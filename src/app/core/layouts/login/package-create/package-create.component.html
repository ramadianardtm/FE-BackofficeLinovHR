<div class="container">

    <form [formGroup]="formReady">

        <div class="row">
            <div class="col-sm">
                <h4>Add Package Detail</h4>
                <hr>
            </div>
        </div>

        <div class="form-group row">
            <label for="staticEmail" class="col-sm-4 col-form-label">Name</label>
            <div class="col-sm-8">
                <input type="text" size="30" formControlName="name" placeholder="Package Name" pattern="[a-zA-Z0-9 ]*"
                    class="form-control" />
            </div>
        </div>
        <div class="form-group row">
            <label for="inputPassword" class="col-sm-4 col-form-label">Code</label>
            <div class="col-sm-8">
                <input type="text" formControlName="code" pattern="[a-zA-Z0-9 ]*" class="form-control"
                    placeholder="Package Code" />
            </div>
        </div>
        <div class="form-group row">
            <label for="inputPassword" class="col-sm-4 col-form-label">Description</label>
            <div class="col-sm-8">
                <input type="text" formControlName="description" pattern="[a-zA-Z0-9 ]*" class="form-control"
                    placeholder="Package Description" />
            </div>
        </div>

        <p-tabView>
            <div class="form-check">
                <input type="checkbox" (change)="checkMenu('ALL',undefined, undefined, $event.target.checked)">
                <label class="col-sm-3">
                    Select All
                </label>
            </div>
            <p-tabPanel [header]="item.name" *ngFor="let item of apps?.data; let i = index" [selected]="i == 0">
                <p-accordion [multiple]="true" *ngFor="let module of modules?.data; let idxModule=index">
                    <ng-container *ngIf="module.apps.name === item.name;">
                        <p-accordionTab [header]="module.name" [selected]="true">
                            <div class="form-check">
                                <input type="checkbox"
                                    (change)="checkMenu('MODULE',idxModule, undefined, $event.target.checked)"
                                    [checked]="module.isChecked">
                                <label class="col-sm-3">
                                    Pilih Semua
                                </label>
                            </div>
                            <hr>
                            <div class="form-check" *ngFor="let menu of module.menus; let idxMenu=index;">
                                <input type="checkbox"
                                    (change)="checkMenu('MENU',idxModule, idxMenu, $event.target.checked)"
                                    [checked]="module.isChecked">
                                <label class="col-sm-6">
                                    {{menu.name}}
                                </label>
                            </div>
                        </p-accordionTab>
                    </ng-container>
                </p-accordion>
            </p-tabPanel>
        </p-tabView>
    <div class="row mid-add">
        <button type="button" (click)="submit()" class="btn btn-primary ml-2 mb-2"style="border-radius:40px;font-size:15px;width:120px">Submit</button>
    </div>
    </form>
</div>